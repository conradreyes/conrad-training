<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" shrink-to-fit="no">
  <meta name="robots" content="noindex">
  <link rel="shortcut icon" href="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/svana-icon_32x32@2x.png?v=1611073508" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.typekit.net/grv4cfq.css">
  <link data-font-format="woff2" href="https://tdf-files.s3-accelerate.amazonaws.com/fonts/css/wulkan-display-regular.woff2.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.min.css">
  <title>To My Son, I Love You Morse Code Bracelet</title>

  <script>
    function qs(key) {
      key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
      var match = location.search.match(new RegExp("[?&]" + key + "=([^&]+)(&|$)"));
      return match && decodeURIComponent(match[1].replace(/\+/g, " "));
    }

    window.pageData = {
      variants: [{"_uid":"2aa7b2d3-d0e9-4bb7-82e3-7c2a47d650e3","name":"son-love-you-morse-bracelet-sv4","price":"26.00","img_url":{"id":4948801,"alt":null,"name":"","focus":null,"title":null,"filename":"https://a.storyblok.com/f/134268/1080x1080/c89a368c45/dsc_7234-1-1.jpg","copyright":null,"fieldtype":"asset"},"picIndex":"0","component":"variant","offer_name":"","variant_id":"39787908923478","displayName":"To My Son, I Love You Morse Code Bracelet","displayPrice":"$26.00 USD","originalPrice":"$49.90 USD","savePercentage":"Save 48%","success_redirect":"","_editable":"<!--#storyblok#{\"name\": \"variant\", \"space\": \"134268\", \"uid\": \"2aa7b2d3-d0e9-4bb7-82e3-7c2a47d650e3\", \"id\": \"139982229\"}-->"}],
      offers: null,
      checkoutConfig: {
        "website":"svanadesign.com",
        "funnel":"son-love-you-morse-bracelet-sv4",
        "currency":"USD",
        "enablePayPal":true,
        "descriptor":"SVANADESIGN",
        "shippingMethods":[{"_uid":"cb11a679-ea82-4d25-adbc-d0e40258cbe2","name":"Standard Shipping","price":"4.95","handle":"standard-shipping","selected":"true","component":"shipping_method","_editable":"<!--#storyblok#{\"name\": \"shipping_method\", \"space\": \"134268\", \"uid\": \"cb11a679-ea82-4d25-adbc-d0e40258cbe2\", \"id\": \"139982229\"}-->"}]
      },
      defaultVariantOptions: "son-love-you-morse-bracelet-sv4",
      trackerConfig: {
        "website":"svanadesign.com",
        "funnel":"son-love-you-morse-bracelet-sv4"
      },
      successRedirect: "/sv4/son-love-you-morse-bracelet-sv4/30off",
      freeShippingThreshold: 35,
      personalization: []
    }

    window.productData = {
      additionalPrice: {},
      properties: {}
    }

    pageData.checkoutConfig['apexUrl'] = "https://staging-api.apcoz.com";
    pageData.checkoutConfig['testMode'] = qs('testMode');

    if (pageData.trackerConfig && window.tiktokConfig && window.tiktokConfig.pixelCode) {
      tiktokConfig.ttclid = qs('ttclid');
      tiktokConfig.debug = qs('tiktokDebug');
      pageData.trackerConfig.tiktok = window.tiktokConfig;
    }

    var altVariants;
    var altOffers;

    function decodeAltParams(encodedAltParams) {
      var altParams;
      var str;

      if (!encodedAltParams) {
        return;
      }
      str = atob(encodedAltParams);
      try {
        altParams = JSON.parse(str)
      } catch(err) {
        console.error("invalid alt params", str);
      }
      return altParams;
    }

    function findAltParamsByName(altParams, name) {
      return altParams.filter(function (altParam) {
        return altParam.name === name;
      })[0];
    }

    function updateVariantPricesWithAltPrice(altPrice, altDisplayPrice) {
      pageData.variants.forEach(function (variant) {
        variant.price = altPrice || variant.price;
        variant.displayPrice = altDisplayPrice || variant.displayPrice;
      })
    }

    function updateVariantsWithAltVariants(altVariants) {
      pageData.variants.forEach(function (variant) {
        var altPrice = findAltParamsByName(altVariants, variant.name);
        if (altPrice) {
          variant.price = altPrice.price || variant.price;
          variant.displayPrice = altPrice.displayPrice || variant.displayPrice;
          variant.originalPrice = altPrice.originalPrice || variant.originalPrice;
          variant.savePercentage = 'Save ' + altPrice.savePercentage || variant.savePercentage;
        }
      });
    }

    function updateOffersWithAltOffers(altOffers) {
      pageData.offers.forEach(function (offer) {
        var altOffer = findAltParamsByName(altOffers, offer.name);
        if (altOffer) {
          offer.line_items.forEach(function (lineItem, index) {
            var altLineItem = altOffer.line_items[index];
            if (altLineItem) {
              lineItem.price = altLineItem.price || lineItem.price;
              lineItem.quantity = altLineItem.quantity || lineItem.quantity;
              lineItem.display_price = altLineItem.display_price || lineItem.display_price;
              lineItem.title = altLineItem.title || lineItem.title;
              lineItem.variant_id = altLineItem.variant_id || lineItem.variant_id;
            }
          });
        }
      });
    }

    function updateDisplayPrice() {
      var firstVariant = pageData.variants[0];
      var displayPriceDom = document.getElementsByClassName('product-pricing-sale')[0];
      var originalPriceDom = document.getElementsByClassName('product-pricing-original')[0];
      var priceSavePctDom = document.getElementsByClassName('product-pricing-save')[0];

      if (firstVariant && displayPriceDom) {
        displayPriceDom.innerHTML = firstVariant.displayPrice;
      }

      if (firstVariant && originalPriceDom) {
        originalPriceDom.innerHTML = firstVariant.originalPrice;
      }

      if (firstVariant && priceSavePctDom) {
        priceSavePctDom.innerHTML = firstVariant.savePercentage;
      }
    }

    altPrice = qs('ap') && atob(qs('ap'));
    altDisplayPrice = qs('adp') && atob(qs('adp'));
    altVariants = qs('av') && decodeAltParams(qs('av'));
    altOffers = qs('ao') && decodeAltParams(qs('ao'));

    if (altPrice && altDisplayPrice) {
      updateVariantPricesWithAltPrice(altPrice, altDisplayPrice);
    }

    if (altVariants && altVariants.length > 0) {
      updateVariantsWithAltVariants(altVariants);
    }

    if (altOffers && altOffers.length > 0) {
      updateOffersWithAltOffers(altOffers);
    }
  </script>
  
  <style>

    .product-review-row{
      max-width: 1260px;
      margin: 0 auto;
    }
   
    .review-text p{
      display: block;
      margin-bottom: 30px;
    }

    .review-item-inner{
      min-height: 295px;
    }

    .no-image .col-md-6:first-child{
      display: none;
    }

    .no-image .col-md-6{
      flex: 0 0 100%;
      max-width: 100%;
    }

    .product-reviews-wrapper{
      padding: 0 25px;
    }
    .review-date{
      position: absolute;
      bottom: 8px;
      right: 2px;
      font-size: 12px;
      line-height: 15px;
      opacity: 0.5;
    }
    .review-text{
      font-size: 15px; 
      line-height: 20px;
      color: #242424;

      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 6;
      overflow: hidden;
    }
    .review-name{
      font-size: 25px;
      color: #000000;
      font-weight: 400;
      font-size: 25px;
      margin-bottom: 16px;
    }
    .product-review-stars img{
      height: 22px;
    }
    .review-img{
      max-height: 255px;
    }
    .review-img .image-wrapper img{
      width: 100%;
      height: 250px;
      border-radius: 20px;
      object-fit: cover;
      left: unset;
      transform: unset;
    }
    .review-item{
      padding: 0 25px;
    }
    .review-item-inner{
      background-color: white;
      box-shadow: 0px 4px 40px rgb(0 0 0 / 8%);
      border-radius: 16px;
      padding: 20px 15px 20px 5px;
      margin-bottom: 25px;
    }
    #map {
      width: 100%;
      height: 300px;
    }
    #geocoder .mapboxgl-ctrl-geocoder {
      width: 100%;
      box-shadow: none;
      border: 1px solid #ccc;
      z-index: 9;
      margin-bottom: 10px;
      max-width: 406px;
    }
    #geocoder .mapboxgl-ctrl-geocoder--input {
      border-radius: 4px;
    }
    #geocoder .mapboxgl-ctrl-geocoder--input:focus {
      outline: thin solid;
    }
    #geocoder .mapboxgl-ctrl-geocoder--button {
      display: none !important;
    }
    .long-lat-wrapper {
      column-gap: 10px;
    }
    .long-lat-wrapper .personalization-field {
      border: 0;
      /* border-bottom: 1px dashed #ccc;
      padding: 7px 10px; */
      outline: 0;
    }
    .long-lat-wrapper label {
      font-size: 12px;
      color: rgba(0, 0, 0, 0.75);
    }
    .enter-personalize-data {
      background-color: rgba(244, 164, 130, 0.1);
      border-color: #f4a482;
      color: #f4a482;
      border: 1px solid #f4a482;
    }
    .product-data span {
      font-size: 13px;
    }

    .sticky {
      position: sticky;
      -webkit-position: sticky;
      top: 40px;
      align-self: flex-start;
    }

    .sticky-add-to-cart .container {
      flex-direction: column;
      max-width: 1182px;
    }
    
    .sticky-add-to-cart .product-title-small {
      display: none;
      font-family: "Wulkan Display", sans-serif;
    }

    .sticky-add-to-cart.opening.open .container {
      align-items: center;
      column-gap: 20px;
      flex-wrap: wrap;
    }

    .sticky-add-to-cart.opening.open .container > h4, 
    .sticky-add-to-cart.opening.open .container > div, 
    .sticky-add-to-cart.opening.open .container > button {
      -ms-flex-preferred-size: 0;
      flex-basis: 0;
      -ms-flex-positive: 1;
      flex-grow: 1;
      max-width: 100%;
      margin-top: 0;
    }

    .sticky-add-to-cart.opening.open .container > h4 {
      flex-basis: 100%;
    }

    .sticky-add-to-cart.opening.open .container > div .product-variants {
      margin-top: 0 !important;
    }

    .sticky-add-to-cart.opening.open .container > button {
      max-width: 349px;
    }

    .sticky-add-to-cart.opening.open .container > .product-quantity {
      flex-grow: 0;
    }

    .sticky-add-to-cart.opening {
      position: fixed;
      bottom: -50%;
      width: 100%;
      background: #fff;
      transition: all .3s ease-out;
      -webkit-transition: all .3s ease-out;
      -moz-transition:  all .3s ease-out;
      -o-transition:  all .3s ease-out;
      z-index: 9;
      left: 0;
      padding: 15px;
      border-top: 1px solid #dadada;
    }

    .sticky-add-to-cart.opening.open .container {
      flex-direction: row;
    }

    .sticky-add-to-cart.open {
      bottom: 0;
    }

    .sticky-add-to-cart.opening.open .product-title-small {
      display: block;
    }

    .sticky-add-to-cart.opening.open .product-info {
      display: none;
    }
    .sticky-add-to-cart.opening.open .product-quantity {
      order: 9 !important;
    }
    .sticky-add-to-cart.opening.open .cta-button {
      order: 10 !important;
    }

    .personalization-wrapper {
      margin-top: 32px;
    }

    .personalization-wrapper .field-group {
      margin-top: 20px;
    }

    .personalization-wrapper .field-group:first-child {
      margin-top: 0;
    }

    .personalization-wrapper .field-group label, 
    .personalization-wrapper .character-notice,
    .personalize-field-storage button {
      font-size: 14px;
      line-height: 20px;
    }

    .personalization-wrapper .field-group label {
      height: 20px;
    }

    .personalization-wrapper .required-symbol {
      color: #CF9C56;
    }

    .personalization-wrapper .input-group {
      display: flex;
      border-bottom: 1px solid rgba(31, 31, 31, 0.2);
      padding-bottom: 10px;
      max-width: 310px;
    }

    .personalization-wrapper .coordinates .input-group {
      border: 0;
      max-width: 100%;
    }

    .input-group.error #geocoder .mapboxgl-ctrl-geocoder {
      border: 1px solid red;
    }

    .input-group.error .long-lat-wrapper .personalization-field {
      border-bottom: 1px dashed red;
    }

    .personalization-wrapper .input-group.disabled {
      opacity: 0.5;
    }

    .personalization-wrapper .character-notice,
    .duplicate-error {
      color: #8F8F8F;
    }

    .duplicate-error {
      font-size: 12px;
      line-height: 20px;
      margin-top: 10px;
    }

    .personalization-field {
      flex: 1;
      font-size: 14px;
      line-height: 20px;
      border: 0;
      outline: 0;
      padding: 0;
      appearance: none;
      -webkit-appearance: none;
    }

    .personalization-field:disabled {
      background: none;
    }

    .personalize-field-storage {
      margin-top: 10px;
      max-width: 350px;
    }

    .personalize-field-storage button {
      background: #CF9C56;
      border-radius: 33px;
      padding: 2px 0;
      color: #fff;
      display: inline-block;
      margin: 10px 12px 0 0;
    }

    .personalize-field-storage button:hover {
      color: #fff;
    }

    .personalize-field-storage button:last-child {
      margin-right: 0;
    }
    
    .personalize-field-storage .current-index {
      padding: 0 12px;
      font-size: 13px;
    }

    .personalize-field-storage button svg {
      margin: -2px 6px 0 6px;
    }

    .input-group.error {
      border-bottom: 1px solid red;
    }

    .duplicate-error {
      margin-top: 10px;
    }

    .enter-text-tooltip {
      display: inline-block;
      cursor: pointer;
      margin-left: 10px;
    }

    .tooltip-text {
      top: -38px;
      font-size: 11px;
      background: #CF9C56;
      box-shadow: 0px 2px 5px rgb(0 0 0 / 20%);
      border-radius: 4px;
      padding: 5px 15px;
      color: #fff;
      left: 0;
    }

    .tooltip-text:after {
      content: '';
      width: 0px;
      height: 0px;
      border-width: 20px 13px 0px;
      border-style: solid;
      border-color: #CF9C56 transparent transparent;
      border-image: initial;
      position: absolute;
      bottom: -11px;
      right: 54px;
    }

    #checkout .properties p {
      font-size: 13px;
      margin-bottom: 5px;
    }
    ::-moz-focus-inner, :active, :focus {
      outline: none;
      border: 0;
      -moz-outline-style: none;
    }
    /* html, body {
      overflow-x: hidden; 
    } */
    body {
      color: #1f1f1f;
      font-family: "proxima-nova", sans-serif;
      font-size: 16px;
    }
    h1 {
      font-family: 'Wulkan Display';
      font-size: 48px;
      font-weight: 400;
      line-height: 64px;
    }
    h2 {
      font-family: 'Wulkan Display';
      font-size: 32px;
      font-weight: 400;
      line-height: 48px;
    }
    h3 {
      font-size: 24px;
      font-weight: 400;
      line-height: 32px;
    }
    h4 {
      font-size: 20px;
      line-height: 32px;
    }
    h5 {
      font-size: 18px;
      line-height: 28px;
    }
    h6 {
      font-size: 17px;
      line-height: 28px;
    }
    a {
      color: #1f1f1f;
    }
    a:hover {
      color: #CF9C56;
      text-decoration: none;
    }
    .btn {
      appearance: none;
      background: none;
      border: 0;
      padding: 0;
      -moz-appearance: none;
      -webkit-apperance: none;
    }

    .btn:active, .btn:focus {
      box-shadow: none;
    }

    .btn-default {
      border: 1px solid transparent;
      border-radius: 90px;
      color: #2d2d2d;
      font-size: 14px;
      padding: 14px 44px;
    }
    .hvr-grow {
      box-shadow: 0 0 1px rgba(0, 0, 0, 0);
      display: inline-block;
      transform: perspective(1px) translateZ(0);
      transition-duration: 0.3s;
      transition-property: transform;
      vertical-align: middle;
      -webkit-transform: perspective(1px) translateZ(0);
      -webkit-transition-duration: 0.3s;
      -webkit-transition-property: transform;
    }
    .hvr-grow:hover, .hvr-grow:focus, .hvr-grow:active {
      -webkit-transform: scale(1.03);
      transform: scale(1.03);
    }
    .hvr-fade {
      display: inline-block;
      vertical-align: middle;
      -webkit-transform: perspective(1px) translateZ(0);
      transform: perspective(1px) translateZ(0);
      box-shadow: 0 0 1px rgba(0, 0, 0, 0);
      overflow: hidden;
      -webkit-transition-duration: 0.3s;
      transition-duration: 0.3s;
      -webkit-transition-property: color, background-color;
      transition-property: color, background-color;
    }
    .hvr-fade:hover, .hvr-fade:focus, .hvr-fade:active {
      background-color: #2394fc;
      color: #fff;
    }
    .chevron::before, .menu ul > li a::after {
      border-style: solid;
      border-width: 2px 2px 0 0;
      border-color: #0c1929;
      content: "";
      display: inline-block;
      height: 12px;
      left: 0.15em;
      position: relative;
      top: 5px;
      transform: rotate(-45deg);
      vertical-align: top;
      width: 12px;
    }
    .chevron.right:before, .menu ul > li a::after {
      left: 0;
      transform: rotate(45deg);
    }
    .chevron.bottom:before {
      top: 0;
      transform: rotate(135deg);
    }
    .chevron.left:before {
      left: 0.25em;
      transform: rotate(-135deg);
    }
    .arrow {
      position: relative;
      width: 22px;
      height: 15px;
      display: block;
      margin: 0 auto;
    }
    .arrow:before {
      content: '';
      position: absolute;
      width: 23px;
      height: 15px;
      left: 0;
    }
    .arrow:before {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/arrow-right.svg?v=1634748722);
    }
    .arrow.reverse:before {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/arrow-left.svg?v=1634748722)
    }
    .arrow.disabled:before {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/arrow-disabled-right.svg?v=1634749496);
    }
    .arrow.reverse.disabled:before {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/arrow-disabled-left.svg?v=1634749496);
    }

    .flex-right {
      align-items: center;
      justify-content: flex-end;
    }

    .carousel-mobile:after {
      content: '';
    }

    /* Header */
    .top-header {
      /* background: #CF9C56; */  
      background: #F8F0E6;
      border-bottom: 1px solid 1px solid rgba(36, 36, 36, 0.1);
      padding: 10px 0;
    }

    .top-header .top-banner-text {
      font-size: 13px;
      line-height: 16px;
    }

    .top-banner-wrapper {
      align-items: center;
    }

    .top-banner .hr {
      align-self: center;
      /* background: #ffffff; */
      background: #1f1f1f;
      height: 1px;
      width: 24px;
    }

    .top-banner-text {
      /* color: #ffffff; */
      color: #1f1f1f;
      margin: 0 16px;
    }

    .site-header {
      border-bottom: 1px solid rgba(36, 36, 36, 0.1);
    }

    .cart.is-not-empty .icon:after {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/cart-ellipse.svg?v=1634748956) no-repeat;
      content: " ";
      height: 12px;
      left: 9px;
      position: absolute;
      top: 9px;
      width: 12px;
    }


    /* badges */

    .flickity-viewport {
      overflow: auto;
      position: initial;
    }

    .collections .carousel-cell {
      width: 597px;
    }

    .collections .carousel-cell:not(:last-child) {
      margin-right: 64px;
    }

    .video-container {
      position: relative;
    }
    .video-container .video-thumb {
      border-radius: 60px 0 60px 0;
    }
    .video-container .play-button img {
      margin: auto;
      position: absolute;
      top: 0; 
      left: 0; 
      bottom: 0; 
      right: 0;
    }
    .video-container .stretcher {
      opacity: 0;
      visibility: 0;
      width: 100%;
    }
    .video-thumbnail {
      background-size: 100%;
      background-repeat: no-repeat;
      position: absolute;
      top: 0;
      left: 0;
      cursor: pointer;
    }
    .video-thumbnail,
    .video-thumbnail iframe {
      width: 100% !important;
      height: 100% !important;
    }


    @media only screen and (min-width: 768px) and (max-width: 1024px) {
      .product-video .text-highlight p {
        font-size: 32px;
        line-height: 40px;
        padding-left: 32px;
      }
      .product-video .description-highlight p {
        font-size: 18px;
        line-height: 26px;
        padding-right: 32px;
      }
    }

    /* svana instagram */
    .svana-instagram {
      margin-top: 180px;
    }

    .svana-instagram .container {
      justify-content: space-between;
    }

    .svana-instagram .title {
      letter-spacing: 0.1em;
    }

    .svana-instagram .hashtag {
      font-family: 'Wulkan Display';
      font-size: 56px;
      font-weight: 500;
      line-height: 64px;
    }

    .svana-instagram button {
      border: 1px solid #2d2d2d;
      padding: 14px 32px;
    }

    .svana-instagram button:hover {
      background: #CF9C56;
      border: 1px solid #CF9C56;
      color: #ffffff;
    }

    #instagram-feed-home {
      background: #fafafa;
      margin-top: 75px;
    }

    #instagram-feed-home .col {
      padding: 0 5px 10px;
      width: 300px;
    }


    /* footer */
    footer {
      /* padding-top: 90px; */
      background: #fafafa;
      border-top: 1px solid rgba(36, 36, 36, 0.1);
    }

    .newsletter p {
      margin-bottom: 20px;
    }

    .newsletter-input-wrapper {
      max-width: 311px;
      border-bottom: 1px solid #d1d1d1;
    }

    .newsletter-input-wrapper input {
      background: transparent;
      border: 0;
      color: #1f1f1f;
      font-size: 16px;
      line-height: 20px;
      outline: 0;
      padding: 14px 20px 14px 0;
      width: 238px;
    }

    .newsletter-input-wrapper button {
      font-size: 13px;
      line-height: 20px;
    }

    .newsletter-input-wrapper button:hover {
      color: #CF9C56;
    }

    .footer-bottom {
      /* border-top: 1px solid rgba(36, 36, 36, 0.1); */
      /* margin-top: 32px; */
      padding: 24px 0 28px;
    }

    .copyright {
      align-self: center;
      font-size: 13px;
      line-height: 20px;
    }

    /* Single product page */

    .breadcrumbs-section {
    margin: 40px 0;
    }

    .breadcrumbs a, .breadcrumbs span {
      font-size: 13px;
      line-height: 16px;
    }

    .breadcrumbs span {
      color: rgba(36, 36, 36, 0.4);
    }

    .product-gallery-details .flickity-viewport {
      overflow: hidden;
      position: relative;
    }

    .carousel-product .flickity-page-dots {
      display: none;
    }

    .carousel-product-nav {
      margin-top: 24px;
    }

    .carousel-product-nav .product-image-small {
      cursor: pointer;
      display: inline-block;
      height: 80px;
      width: 80px;
    }

    .carousel-product-nav .product-image-small:not(:last-child) {
      margin-right: 24px;
    }

    .carousel-product-nav .product-image-small.is-nav-selected:before {
      border: 2px solid #D5B45D;
      bottom: 0px;
      content: '';
      display: block;
      left: 0px;
      position: absolute;
      right: 0px;
      top: 0px;
    }

    .stock-status {
      border: 1px solid #CF9C56;
      border-radius: 90px;
      color: #CF9C56;
      display: inline-block;
      font-size: 14px;
      font-weight: bold;
      line-height: 20px;
      padding: 9px 13px;
      text-align: center;
    }

    .product-title {
      margin: 32px 0;
      max-width: 472px;
    }

    .product-review-stars .list-inline-item:not(:last-child) {
      margin-right: 3px;
    }

    .product-reviews-total {
      display: inline-block;
      margin-left: 12px;
      vertical-align: middle;
    }

    .product-pricing {
      align-items: center;
      margin-top: 32px;
    }

    .product-pricing div {
      display: inline-block;
    }

    .product-pricing div:not(:last-child) {
      margin-right: 20px;
    }

    .product-pricing-sale {
      font-size: 32px;
      line-height: 40px;
      letter-spacing: 0.05em;
    }

    .product-pricing-original {
      color: rgba(36, 36, 36, 0.2);
      font-size: 20px;
      line-height: 24px;
      text-decoration: line-through;
      letter-spacing: 0.05em;
    }

    .product-pricing-save {
      color: #CF9C56;
      font-weight: bold;
      font-size: 16px;
      line-height: 19px;
    }

    .product-variant.active {
      background-color: #cf9b52;
      color: #fff;
    }

    .product-variants .product-variants-wrapper:not(:last-child) {
      margin-bottom: 10px;
    }


    .product-variant {
      border: 1px solid #dadada;
      border-radius: 90px;
      cursor: pointer;
      height: 40px;
      padding: 10px 15px;
      margin-bottom: 5px;
      line-height: 19px;
    }

    .product-variants {
      margin-top: 32px;
    }

    .product-variant-title, .product-quantity-label {
      color:rgba(36, 36, 36, 0.5);
      display: inline-block;
      font-size: 14px;
      margin-right: 16px;
      min-width: 40px;
    }

    .product-variants-body {
      display: inline-block;
    }

    .product-variant.color {
      border: 1px solid transparent;
      border-radius: 100%;
      cursor: pointer;
      height: 40px;
      width: 40px;
      padding: 0;
    }

    .product-variant.color.active {
      border: 1px solid #DADADA;
      background: transparent;
    }

    .product-variant.color span {
      background: #ffffff;
      border-radius: 100%;
      display: inline-block;
      height: 28px;
      margin: 5px;
      width: 28px;
      text-indent: -9999px;
    }

    .product-quantity {
      align-items: center;
      margin-top: 24px;
    }

    .qty-button-wrapper {
      border: 1px solid #dadada;
      border-radius: 90px;
      width: 98px;
    }

    .qty-button {
      display: inline-block;
      height: 32px;
      width: 32px;
      text-indent: -9999px;
    }

    .qty-button.minus {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/qty-btn-minus.svg?v=1634748310) no-repeat center center;
    }

    .qty-button.plus {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/qty-btn-plus.svg?v=1634748310) no-repeat center center;
    }

    .qty-button-wrapper input {
      width: 32px;
      height: 32px;
      text-align: center;
      border: 0;
      outline: 0;
      padding: 0;
    }

    .product-info {
      margin-top: 24px;
      font-size: 14px;
    }

    .product-info strong {
      color: #CF9C56;
    }

    .cta-button, .checkout-button {
      background: #CF9C56;
      border: 1px solid #CF9C56;
      border-radius: 90px;
      color: #fff;
      height: 50px;
      margin-top: 16px;
      position: relative;
      text-transform: uppercase;
      max-width: 349px;
      width: 100%;
    }

    .cta-button:hover, .checkout-button:hover {
      background: transparent;
      color: #CF9C56;
    }

    .cta-button-icon {
      -webkit-animation: rotate 0.6s linear infinite;
      -webkit-transition: opacity 0.1s ease 0.1s;
      animation: rotate 0.6s linear infinite;
      left: 50%;
      margin-left: -13px;
      margin-top: -13px;
      opacity: 0;
      position: absolute;
      top: 50%;
      transition: opacity 0.1s ease 0.1s;
      /* visibility: hidden; */
    }

    .payment-options {
      margin-top: 16px;
    }

    .payment-options img {
      margin: 20px 8px;
    }

    .payment-options ul li:first-child img {
      margin: 20px 8px 20px 0;
    }

    /* Accordion */

    .product-accordion {
      max-width: 472px;
    }
    .accordion {
      background-color: #fff;
      color: #1f1f1f;
      cursor: pointer;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      transition: 0.4s;
      position: relative;
      outline: 0 !important;
      border-top: 1px solid #B3B3B3;
      display: inline-block;
      font-size: 16px;
      line-height: 24px;
      padding: 20px 0;
    }

    .accordion.active{
      margin-bottom: 0;
    }

    .accordion-wrapper .panel {
      background-color: white;
      overflow: hidden;
      display: none;
    }

    .accordion-wrapper {
      border-bottom: 1px solid #d3d4d5;
    }

    .accordion h4 {
      width: 95%;
      display: inline-block;
      padding: 12px 0 9px;
      font-size: 13px;
      margin: 0;
      font-weight: bold;
      letter-spacing: 1px;
    }

    .accordion-wrapper .panel .wrapper { padding: 9px 0; }

    .accordion:after, .input-field-wrapper .select-wrapper::after {
      content: '';
      display: inline-block;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 6px 5px 0 5px;
      border-color: #34342e transparent transparent transparent;
      border-style: inset;
      transition: all 250ms ease-in-out 0s;
      transform: rotate(360deg);
      -webkit-transform:rotate(360deg);
      margin-bottom: 3px;
      position: absolute;
      right: 0;
      top: 28px;
    }

    .accordion.active:after { transform: rotate(180deg); }

    .accordion-wrapper ul { padding-left: 20px; }

    
    .product-reviews .title {
      font-size: 48px;
      line-height: 64px;
      margin-bottom: 32px;
      padding: 0 15px;
    }

    .product-reviews .title {
      padding: 0 15px;
      margin-bottom: 60px;
      text-align: center;
    }

    .load-more {
      display: none;
    }

    .product-review {
      padding: 48px 0;
    }

    .product-review:not(:last-child) {
      border-bottom: 1px solid rgba(36, 36, 36, 0.1);
    }

    .product-reviews .product-review-stars {
      margin: 10px 0 10px -2px;
    }

    .product-reviews .product-review-stars .list-inline-item:not(:last-child) {
      margin: 0;
    }

    .product-review .review-name {
      font-size: 32px;
      line-height: 40px;
      letter-spacing: -1px;
    }

    .product-review .review-date {
      color: rgba(0, 0, 0, 0.5);
    }

    .product-review .review-text {
      font-size: 24px;
      line-height: 36px;
    }

    .more-button {
      background: #B3B3B3;
      height: 1px;
      max-width: 1260px;
      margin: 0 auto;
    }

    .more-button-wrapper {
      max-width: 293px;
      margin: auto;
      background: #F8F0E6;
      position: relative;
      top: -24px;
      margin-top: 50px;
    }

    .more-button button {
      border: 1px solid #1f1f1f;
      font-size: 14px;
      padding: 14px 30px;
    }

    .product-masonry {
      margin: 0 auto;
      margin-top: 50px;
      max-width: 1212px;
    }

    .happy-customers-image-wrapper {
      display: flex;
      display: grid; 
      grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr; 
      grid-template-rows: 1fr 1fr 1fr; 
      gap: 6px 6px; 
      grid-template-areas: 
        ". . . . item-5 item-5"
        ". item-7 item-7 . item-5 item-5"
        ". item-7 item-7 . . ."; 
      margin-top: 50px;
      max-width: 1212px;
    }

    .happy-customers-image-wrapper .item-5 { 
      grid-area: item-5; 
    }
    .happy-customers-image-wrapper .item-7 { 
      grid-area: item-7; 
    }

    .section-highlight.no-media {
      padding: 140px 0 140px 0;
      margin: 140px 0 140px 0;
    }

    @media (max-width: 767px) {
      .no-image .review-date{
        right: unset;
      }

      .review-text p{
        margin-bottom: 20px;
      }

      .product-title-small {
        font-size: 16px;
        line-height: 20px;
        margin: 0;
      }

      .sticky-add-to-cart.opening.open .container {
        flex-direction: row;
        flex-wrap: wrap;
        align-items: flex-start;
      }

      .sticky-add-to-cart.opening.open .container > .product-pricing,
      .sticky-add-to-cart.opening.open .container > .product-variant-groups,
      .sticky-add-to-cart.opening.open .container > .product-quantity,
      .sticky-add-to-cart.opening.open .container > .personalization-wrapper {
        margin-top: 10px;
      }

      .sticky-add-to-cart.opening.open .container > .personalization-wrapper {
        flex-basis: 100%;
      }

      .sticky-add-to-cart.opening.open .product-pricing div {
        font-size: 13px;
      }

      .sticky-add-to-cart.opening.open .product-pricing .product-pricing-save {
        font-size: 12px;
      }

      .sticky-add-to-cart.opening.open .cta-button {
        margin-top: -48px !important;
      }

      .happy-customers-image-wrapper {
        margin-top: 40px;
        grid-template-columns: 1fr 1fr 1fr; 
        grid-template-rows: 1fr 1fr 1fr 1fr;
        grid-template-areas: 
          ". . ."
          ". . ."
          ". . ."
          ". . ."; 
      }
      .happy-customers-image-wrapper .item-5, .happy-customers-image-wrapper .item-7 {
        grid-area: initial;
      }
      .sticky {
        position: static;
      }
      .product-gallery-details .col-md-6:first-child {
        padding: 0;
      }
      .personalization-wrapper .input-group {
        max-width: none;
      }
    }
    @media only screen and (max-width: 468px) {
      .happy-customers-image-wrapper {
        padding: 0 6px;
      }
    }

    .faqs {
      max-width: 1212px;
      margin: auto;
      padding: 155px 0 80px 0;
    }

    .bg-pink .faqs,
    .bg-brown .faqs {
      padding: 140px 0 140px 0;
    }
    .faqs .title {
      font-size: 64px;
      line-height: 64px;
      margin-bottom: 100px;
    }

    .faq-accordion .accordion {
      font-family: "Wulkan Display";
      padding: 0 48px;
      margin-bottom: 32px;
      font-size: 24px;
      position: relative;
      line-height: 32px;
      -webkit-transition: all 0.4s 0s ease-in-out;
      -moz-transition: all 0.4s 0s ease-in-out;
      -o-transition: all 0.4s 0s ease-in-out;
      transition: all 0.4s ease-in-out;
    }
    
    .faq-accordion .accordion span,
    .faq-accordion .accordion:after {
      margin-top: 32px;
    }

    .faq-accordion .accordion.active {
      font-size: 40px;
      line-height: 48px;
    }

    .faq-accordion .accordion:after {
      border-style: solid;
      border-width: 2px 2px 0 0;
      border-color: rgba(31,31,31,0.5);
      content: "";
      display: inline-block;
      height: 15px;
      position: absolute;
      top: 13px;
      right: 0;
      transform: rotate(-45deg);
      width: 15px;
    }

    .faq-accordion .accordion.active:after {
      transform: rotate(135deg);
      border-color: rgba(31,31,31,1);
    } 

    .faq-accordion p {
      font-size: 18px;
      line-height: 24px;
      margin-bottom: 48px;
    }

    .faq-accordion .panel {
      padding: 0 48px;
    }


    .cart-price-detail {
      border-bottom: 1px solid rgba(36, 36, 36, 0.1);
      padding: 24px 0;
    }

    .cart-price-detail:first-child {
      border-top: 1px solid rgba(36, 36, 36, 0.1);
    }

    .cart-returns-policy {
      margin: 24px 0 24px 0;
    }

    .checkout-button {
      max-width: 100%;
      margin-top: 0;
    }


    .container.page-container {
      max-width: 1000px;
    }

    /* Blog main and single page */

    p.blog-highlight-text {
      font-size: 20px;
      line-height: 32px;
      margin-bottom: 40px;
    }

    .author-other-details > div {
      font-size: 14px;
      line-height: 17px;
    }

    .author-other-details .author-name {
      margin-bottom: 5px;
    }

    .author-other-details .post-date {
      color: rgba(31, 31, 31, 0.5);
    }

    .article-socials ul li:not(:last-child) {
      margin-right: 16px;
    }

    .social-icon {
      width: 20px;
      height: 20px;
      position: relative;
      text-indent: -9999px;
      display: flex;
    }

    .social-icon.twitter {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/twitter.svg?v=1634749143) no-repeat;
    }

    .social-icon.linkedin {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/linkedin.svg?v=1634748722) no-repeat;
    }

    .social-icon.facebook {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/facebook.svg?v=1634749143) no-repeat;
    }

    .social-icon.bookmark {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/bookmark.svg?v=1634749143) no-repeat;
    }

    .social-icon.more {
      background: url(https://cdn.shopify.com/s/files/1/0349/3311/2968/files/more.svg?v=1634749143) no-repeat;
    }

    .after-section-highlight {
      padding: 155px 0 80px 0;
    }

    /* MEDIA QUERIES */


    @media (min-width: 1500px) {
      .container, .container-md, .carousel {
        max-width: 1465px;
      }
    }

    @media (min-width: 1366px) and (max-width: 1499px) {
      .container, .container-md, .carousel {
        max-width: 1300px;
      } 

    }

    @media (min-width: 992px) {  
      .add-to-cart-container {
        max-width: 600px;
        width: 100%;
      }
    }

    @media (max-width: 1365px) {

      .carousel {
        max-width: 1080px;
      }
    }

    @media (max-width: 1199px) {

      .review-item-inner{
        min-height: 225px;
      }

      .no-image .review-text{
        -webkit-line-clamp: unset;
      }
      .no-image .review-date{
        position: relative;
        bottom: unset;
        text-align: right;
        margin-top: 12px;
        right: -12px;
        margin-bottom: 5px;
      }

      .no-image .review-text p{
        margin-bottom: 15px;
      }

      .site-header .logo a {
        display: flex;
      }
      .carousel {
        max-width: 930px;
      }

    }

    @media (max-width: 991px) {


      .carousel-cell a {
        display: inline-block;
      }

      .carousel-mobile:after {
        content: 'flickity';
        display: none; /* hide :after */
      }
      .carousel-mobile {
        display: block;
      }
      .carousel-mobile .carousel-cell {
        display: flex;
        width: 150px;
        height: 50px;
        flex: 1 1 auto;
        max-width: 100%;
        align-items: center;
        justify-content: center;
      }

      .site-header {
        background-color: #ffffff;
        border-bottom: 1px solid rgba(36, 36, 36, 0.1);
        padding: 20px 0;
        /* position: fixed; */
        width: 100%;
        top: 0;
        z-index: 2;
      }

      .site-header .container {
        max-width: 100%;
        padding: 0;
      }


      .collections {
        margin-top: 72px;
      }

      .collections .title {
        font-size: 48px;
        line-height: 48px;
      }

      .svana-instagram {
        margin-top: 120px;
      }

      .svana-instagram .title-wrapper {
        text-align: center;
      }

      .svana-instagram .hashtag {
        font-size: 40px;
        line-height: 64px;
      }

      #instagram-feed-home {
        margin-top: 40px;
      }

      .footer-columns .col-md-6 {
        order: 1;
      }

      .footer-columns .col-about {
        order: 2;
      }

      .footer-bottom {
        padding: 32px 0;
      }

      .footer-bottom .container {
        flex-wrap: wrap;
      }

      .footer-bottom .copyright {
        margin-top: 24px;
        order: 2;
        width: 100%;
        text-align: center;
      }
      
      .product-title {
        margin: 16px 0;
        font-size: 32px;
        line-height: 40px;
      }

      .product-pricing {
        margin-top: 16px;
      }

      .product-pricing div:not(:last-child) {
        margin-right: 12px;
        font-size: 18px;
      }

      .payment-options img {
        margin: 20px 0;
      }

      .payment-options ul{
        display: flex;
        justify-content: space-between;
      }

      .section-highlight {
        padding: 60px 0 240px 0;
        margin: 60px 0 33% 0;
      }


      .product-reviews{
        padding-top: 20px;
      }

      .faqs .title {
        margin-bottom: 40px;
      }

      .section-highlight.testimonial {
        margin: 60px 0 72px 0 !important;
      }


    }
    @media (max-width: 767px) {

      .site-header {
        padding: 12px 0;
      }
      .logo.d-flex {
        align-self: center;
      }
      .logo.d-flex img {
        height: 20px;
      }


      .mobile-btn {
        margin: 20px auto 0;
        border: 1px solid #1f1f1f;
        padding: 14px 33px;
      }
      .mobile-btn:hover {
        background: #CF9C56;
        border: 1px solid #CF9C56;
        color: #fff;
      }
      .carousel-featured:after {
        content: '';
      }
      .collections .carousel-cell {
        width: 100%;
        height: auto;
      }
      .collections .flickity-slider .carousel-cell {
        width: 90%;
      }
      .collections .carousel-cell:not(:last-child) {
        margin: 0 0 48px 0;
      }
      .collections .flickity-slider .carousel-cell:not(:last-child) {
        margin: 0 15px 0 0;
      }

      .col-video {
        padding: 0;
      }
      
      .video-container {
        overflow: hidden;
        text-align: center;
        display: flex;
        justify-content: center;
      }
      .video-container .video-thumb {
        border-radius: 0;
      }
      .video-container .video-thumb{
        max-width: initial !important;
      }
      .carousel-mobile:not(:last-child) {
        margin-right: 15px;
      }
      #instagram-feed-home:after {
        content: 'flickity';
        display: none;
      }
      #instagram-feed-home .carousel-cell {
        width: 480px;
      }
      .footer-columns .row {
        text-align: center;
      }
      .footer-columns .title {
        margin-bottom: 10px;
      }
      .footer-columns p, .footer-columns .newsletter-input-wrapper {
        margin: auto;
      }
      .about-footer {
        margin-top: 40px;
      }

      .payment-gateways ul {
        text-align: center;
      }

      .payment-gateways ul .list-inline-item:not(:last-child) {
        margin-right: 0;
      }

      .add-to-cart-section {
        right: -100vw;
        -webkit-transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
        -moz-transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
        -o-transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
        transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
        z-index: -1;
        position: relative;
      }

      .add-to-cart-section.open {
        right: 0;
      }

      .add-to-cart-container {
        padding: 24px;
        width: 100vw;
        position: fixed;
        height: 100%;
        /* right: 0;
        transition: none; */
      }

      .cart-item-quantity .qty-button, .cart-item-quantity .qty-button-wrapper input {
        width: 32px;
        height: 32px;
      }

      .cart-item-mobile-actions {
        margin-top: 16px;
      }

      .cart-item-mobile-actions .cart-item-action {
        margin-left: 16px;
      }

      .cart-item-mobile-actions .cart-item-action a:first-child {
        margin-right: 32px;
      }

      .proceed-to-checkout-wrapper {
        padding-bottom: 24px;
      }

      .product-gallery-details .container {
        margin: 0 auto;
      }

      .carousel-product .flickity-page-dots {
        display: block;
        bottom: 10px;
      }

      .carousel-product .flickity-page-dots .dot {
        margin: 0 4px;
        background: #2d2d2d;
      }

      .carousel-product .flickity-page-dots .dot.is-selected {
        background: #D9B875;
      }

      .product-details {
        margin-top: 24px;
      }

      .stock-status { 
        font-size: 12px;
        padding: 4px 12px;
        max-width: 80px;
      }

      .product-title {
        font-size: 24px;
        line-height: 32px;
        /* max-width: 237px; */
      }

      .product-pricing-sale, .product-pricing-original {
        font-size: 16px; 
        line-height: 20px;
      }
      .product-pricing-save {
        font-size: 14px;
      }

      .product-variant-title, .product-quantity-label{
        margin-right: 8px;
      }

      .product-variants .list-inline-item:not(:last-child) {
        margin-right: 6px;
      }

      .product-quantity {
        max-width: 110px;
      }

      .qty-button-wrapper {
        width: 110px;
      }

      .cart-item-quantity .qty-button-wrapper {
        width: 92px;
      }
      

      .qty-button, .qty-button-wrapper input {
        width: 46px;
        height: 46px;
      }

      .product-details .cta-button {
        width: 60%;
        align-self: flex-start;
        margin-top: -48px;
        height: 48px;
        margin-left: 130px;
        flex-basis: auto !important;
      }

      .product-accordion {
        max-width: 100%;
      }

      .accordion-wrapper {
        border: 0;
      }

      .section-highlight {
        padding: 80px 0 130px 0;
        font-size: 16px;
        line-height: 24px;
        text-align: center;
      }

      .section-highlight .title {
        font-size: 48px;
        line-height: 48px;
        margin-bottom: 48px;
      }

      .section-highlight .col {
        flex-basis: auto;
        text-align: center;
      }

      .section-highlight .col p, .section-highlight .col ul {
        max-width: 100%;
      }

      .section-highlight ul {
        list-style-position: inside;
        padding: 0;
      }

      .section-highlight-media {
        border-radius: 60px 0 60px 0;
      }

      .product-reviews {
        padding-top: 15px;
        text-align: center;
      }

      .product-reviews .title, .text-highlight * {
        font-size: 32px;
        line-height: 40px;
        text-align: center;
        margin: 0;
      }

      .product-review {
        padding: 40px 0;
      }

      .product-review .review-name {
        font-size: 20px;
        line-height: 24px;
        margin-bottom: 16px;
      }

      .product-review .review-text {
        font-size: 16px;
        line-height: 24px;
      } 

      .product-reviews .product-review-stars {
        margin: 16px 0 16px 0;
      }

      .product-reviews .title{
        margin-bottom: 35px;
      }

      .product-reviews .more-button-wrapper{
        max-width: 260px;
      }

      .product-reviews .more-button{
        margin-bottom: 50px;
      }

      .product-reviews .review-item-inner{
        padding: 20px 10px;
      }

      .product-reviews-wrapper{
        padding: 0 5px;
      }

      .product-reviews .review-date{
        bottom: unset;
        right: unset;
        font-size: 13px;
        line-height: 16px;
        opacity: 0.5;
        position: relative;
        text-align: right;
        margin-top: 20px;
      }

      .product-review-stars img{
        height: 25px;
      }

      .product-review .review-date {
        font-size: 14px;
      }

      .product-masonry {
        margin-top: 40px;
      }

      .text-highlight {
        margin-bottom: 32px;
      }

      .section-highlight-media .video-container .video-thumb {
        max-width: 100% !important;
      }

      .section-highlight-media .play-button img {
        height: 130px;
      }
      
     
      
      .product-grid-details .product-pricing {
        margin: 0 0 32px 0;
      }

      .section-highlight .col-md-4:last-child p {
        margin-bottom: 0;
      }
      .after-section-highlight {
        padding: 80px 0;
      }
      
    }


    @media (max-width: 375px) {

      .svana-instagram .hashtag {
        font-size: 28px;
        line-height: 40px;
      }

    }

    @-webkit-keyframes rotate {
      from {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg)
      }
      to {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg)
      }
    }

    @keyframes rotate {
      from {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg)
      }
      to {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg)
      }
    }
    .checkout {
      max-width: 1212px;
      margin: 0 auto;
    }
    #checkout #data .method h2.title,
    #checkout #data .shipping h2.title,
    #checkout #data .payment h2.title {
      line-height: 28px;
    }

    .product-image-gallery-large .image-wrapper img,
    .happy-customers-image-wrapper .image-wrapper img {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    .landscape {
      max-width: 100%;
      width: 100%;
      height: auto;
    }

    .portrait {
      max-height: 100%;
      width: auto;
      height: 100%;
    }

    .image-wrapper img {
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .lazyload, .lazyloading {
      opacity: 0;
    }
    .lazyloaded {
      opacity: 1;
      transition: opacity 300ms;
    }
    .flickity-slider { 
      -webkit-overflow-scrolling: touch; 
    }
    .white-bg {
      background: #fff;
    }
    .product-accordion .accordion-wrapper .panel .wrapper img {
      display: block;
      width: 100%;
    }
    section.section-block:nth-child(even):not(.section-highlight) {
      background: #F8F0E6;
      padding: 90px 0;
      margin-top: 140px;
    }
    section.section-block:nth-child(even):not(.section-highlight) .container {
      background: #F8F0E6;
    }
    section.section-block:nth-child(even) .faqs {
      padding: 0;
    }
    section.section-block:nth-child(even) .accordion-wrapper .accordion,
    section.section-block:nth-child(even) .accordion-wrapper .panel {
      background: #F8F0E6;
    }
    @media only screen and (max-width: 567px) {
      .faq-accordion .accordion:after {
        top: 11px;
      }
      .faq-accordion .accordion.active:after {
        top: 8px;
      }
      section.section-block:nth-child(even):not(.section-highlight) {
        padding: 40px 0;
        margin: 40px 0 0 0;
      }
      section.section-block:nth-child(even):not(.section-highlight) .faqs .title {
        padding-top: 0;
      }
    }
    @media screen and (min-width: 821px) and (max-width: 1199px){
      .review-item{
        flex: 0 0 100%;
        max-width: 100%;
      }
      .product-reviews-wrapper{
        padding: 0 80px;
      }
    }
  </style>
  
</head>
<body>
  {% assign content = page.story.content %}
  <header>
    <div class="top-header d-block">
      <div class="container d-flex">
        <div class="top-banner-wrapper w-100 d-flex">
          <div class="top-banner mx-auto text-center d-flex">
            <div class="hr"></div>
            <div class="top-banner-text">FREE SHIPPING ON ORDER OVER $35</div>
            <div class="hr"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="site-header">
      <div class="container d-flex w-100 justify-content-center">
        <div class="logo d-none d-lg-flex pt-4 pb-4">
          <a href="https://svanadesign.com/">
            <img src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/svana-logo_25f97d3f-45c8-4991-b5db-26f0f443b409.svg?v=1634749627" alt="">
          </a>
        </div>
        <div class="logo d-flex d-lg-none">
          <a href="https://svanadesign.com/">
            <img src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/svana-logo_25f97d3f-45c8-4991-b5db-26f0f443b409.svg?v=1634749627" alt="">
          </a>
        </div>
      </div>  
    </div>
  </header>

  <section class="breadcrumbs-section d-none d-md-block">
    <div class="container">
      <ul class="breadcrumbs list-unstyled list-inline m-0">
        <li class="list-inline-item m-0">
          <a href="https://svanadesign.com/" class="text-uppercase">Svana Home<span class="angle-bracket">&nbsp;>&nbsp;</span></a>
        </li>
        <li class="list-inline-item m-0">
          <span class="text-uppercase">{{content.product_title}}</span>
        </li>
      </ul>
    </div>
  </section>

  <section class="section-block product-gallery-details">
    <div class="container">
      <div class="row">
        <div class="col-md-6 sticky"> 
          <div class="product-gallery">
            <div class="carousel-product carousel-gallery">

              {% for blok in content.images %}
              <div class="product-image-gallery-large carousel-cell w-100"  >
                <div class="image-wrapper position-relative overflow-hidden " style="padding-top: 100.0%;">
                  <img
                    class="lazyload position-absolute landscape"
                    src="{{ blok.filename | resize:'700x0' }}"
                    srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                    data-srcset="{{ blok.filename | resize:'180x0' }} 180w, {{ blok.filename | resize:'360x0' }} 360w, {{ blok.filename | resize:'540x0' }} 540w, {{ blok.filename | resize:'720x0' }} 720w, {{ blok.filename | resize:'900x0' }} 900w, {{ blok.filename | resize:'1080x0' }} 1080w"
                    data-sizes="auto"
                    width="1080"
                    height="1080"
                  />
                </div>
              </div>
              {% endfor %}
               
            </div>

            <div class="carousel-product-nav d-none d-md-block">

              {% assign thumbnail_count = 0 %}
              {% for blok in content.images %}
                {% assign thumbnail_count = thumbnail_count | plus: 1 %}
                <div class="product-image-small" data-product-thumbnail="{{ thumbnail_count }}">
                    <img src="{{ blok.filename | resize:'80x80' }}" alt="" loading="lazy" class="lazyload w-100" width="80" height="80">
                </div>
              {% endfor %}
            </div>

          </div>
        </div>

        <div class="col-md-6 col-lg-5 offset-lg-1">
          <div class="product-details d-flex flex-column d-md-block">
            {% if content.in_stock %}
            <span class="stock-status order-1">IN STOCK</span>
            {% else %}
            <span class="stock-status order-1">OUT OF STOCK</span>
            {% endif %}
            <h1 class="product-title order-2">{{content.product_title}}</h1>

            <div class="product-review-stars order-3">
              <ul class="list-unstyled list-inline d-inline">
                {% for i in (1..content.rate) %}
                <li class="list-inline-item">
                  <img src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/star-icon.svg?v=1634748310" alt="">
                </li>
                {% endfor %}
                
              </ul>
              <span class="product-reviews-total">{{ content.reviews | size }} Reviews</span>
            </div>

            <div class="product-pricing d-flex order-4">
              <div class="product-pricing-sale order-2 order-md-1">${{ content.price }} USD</div>
              <div class="product-pricing-original order-1 order-md-2">${{ content.old_price }} USD</div>
              <div class="product-pricing-save order-3 order-md-3">Save {{ content.percent_discount }}%</div>
            </div>

            <div class="sticky-add-to-cart d-flex order-4">
              <div class="container d-flex p-0">
                <h4 class="product-title-small order-1">{{ content.product_title }}</h4>
                <div class="product-quantity d-flex order-6 order-md-3">
                  {% if content.in_stock %}
                  <div class="product-quantity-label d-none d-md-block">QTY</div>
                  <div class="qty-button-wrapper d-flex">
                    <button class="btn qty-button minus">-</button>
                    <input type="text" name="qty" class="quantity" maxlength="2" value="1">
                    <button class="btn qty-button plus">+</button>
                  </div>
                  {% endif %}
                </div>
                <div class="product-info order-8 text-center text-md-left order-md-4">
                  <p>Handcrafted / Ships from United States</p>
                </div>
                {% if content.in_stock %}
                <button class="btn cta-button order-7 order-md-5">
                  <span class="cta-button-text">Buy Now</span>
                  <span class="cta-button-icon">
                    <svg aria-hidden="true" focusable="false" role="presentation" width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">
                      <g fill-rule="nonzero" fill="currentColor">
                        <path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-3.852a9.148 9.148 0 1 0 0-18.296 9.148 9.148 0 0 0 0 18.296z" opacity=".29"></path><path d="M13 26c7.18 0 13-5.82 13-13a1.926 1.926 0 0 0-3.852 0A9.148 9.148 0 0 1 13 22.148 1.926 1.926 0 0 0 13 26z"></path>
                      </g>
                    </svg>
                  </span>
                </button>
                {% endif %}
              </div>
            </div>

            <div class="payment-options order-9">
              <ul class="list-unstyled list-inline m-0">
                {% for method in content.payment_methods %}
                <li class="list-inline-item m-0">
                  <img src="{{ method.filename }}" alt="">
                </li>
                {% endfor %}
              </ul>
            </div>
            
            <div class="product-accordion order-10">
              <div class="accordion-wrapper">
                  <a class="accordion active">Description</a>
                  <div class="panel open" style="display: block;">
                    <div class="wrapper">
                      {{ content.descriptionv2 | markdownify }}
                    </div>
                  </div>
                
                  <a class="accordion ">Product Details</a>
                  <div class="panel " >
                    <div class="wrapper">
                      {{ content.product_detailv2 | markdownify }}
                    </div>
                  </div>
                
                  <a class="accordion ">Refund Policy</a>
                  <div class="panel " >
                    <div class="wrapper">
                      {{ content.refund_policyv2 | markdownify }}
                    </div>
                  </div>
                
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section class="section-block instagram-and-reviews-block">
    <div class="product-reviews">
      <div class="container">
        <h2 class="title">What our customer think about it?</h2>
        <div class="product-reviews-wrapper">
          <div class="product-review-row row align-items-center text-left">

            {% for blok in content.reviews %}
            <div class="col-lg-6 col-md-12 col-sm-12 review-item  load-more">
              <div class="row review-item-inner ">
                <!-- -->
                <div class="col-md-6">
                  <div class="review-img">
                    <div class="image-wrapper position-relative overflow-hidden " style="padding-top: 133.38545738858483%;">
                      <img
                        class="lazyload position-absolute portrait"
                        src="{{ blok.review_image.filename | resize:'700x0' }}"
                        srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                        data-srcset="{{ blok.review_image.filename | resize:'180x0' }} 180w, {{ blok.review_image.filename | resize:'360x0' }} 360w, {{ blok.review_image.filename | resize:'540x0' }} 540w, {{ blok.review_image.filename | resize:'720x0' }} 720w, {{ blok.review_image.filename | resize:'900x0' }} 900w, {{ blok.review_image.filename | resize:'1080x0' }} 1080w"
                        data-sizes="auto"
                        width="1279"
                        height="1706" alt=""
                      />
                    </div>
                  </div>
                </div>
                <!-- -->
                <div class="col-md-6">
                  <div class="product-review-stars">
                    <ul class="list-unstyled list-inline d-inline">
                      {% for i in (1..blok.rate) %}
                      <li class="list-inline-item">
                        <img src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/star-icon.svg?v=1634748310" alt="">
                      </li>
                      {% endfor %}
                    </ul>
                  </div>
                  <div class="review-name">{{ blok.name }} </div>
                  <div class="review-text">
                    <p>{{ blok.review }}</p>
                  </div>
                  <div class="review-date">{{ blok.review_date }}</div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        
        <div class="more-button text-center">
          <div class="more-button-wrapper">
            <button class="btn btn-default load-more-button text-uppercase" data-review-per-page="4" data-review-total="8">Read <span class="load-more-remaining">8</span> More Reviews</button>
          </div>
        </div>

      </div>
    </div>
  </section>

  <footer>
    <div class="footer-bottom">
      <div class="container d-flex">
        <div class="copyright mr-auto">
          &copy; SVANA DESIGN 2022
        </div>
        <div class="payment-gateways ml-auto">
          <ul class="list-unstyled list-inline m-0">
            <li class="list-inline-item"><img class="img-fluid" src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/payment-options-1.webp?v=1618863265" alt=""></li>
            <li class="list-inline-item"><img class="img-fluid" src="https://cdn.shopify.com/s/files/1/0349/3311/2968/files/payment-options-2.webp?v=1618863265" alt=""></li>
          </ul>
        </div>
      </div>
    </div>   
  </footer>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.1/lazysizes.min.js" integrity="sha512-bYhVDhvd1S5L7xVr2ADJcUeue6MKoOsNCzGBUlChGdjF0WWnd7eqGVu3DfLy3MFZIE9qPkfvcdJNeGHvWBcc+A==" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
    window.jQuery || document.write('<script src="https://assets.a28z.com/js/jquery-3.4.1.min.js"><\/script>')
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.pkgd.min.js"></script>
  <script>
   function debounce(func, wait, immediate) {
      var timeout;
      return function() {
         var context = this, args = arguments;
         var later = function() {
         timeout = null;
         if (!immediate) func.apply(context, args);
         };
         var callNow = immediate && !timeout;
         clearTimeout(timeout);
         timeout = setTimeout(later, wait);
         if (callNow) func.apply(context, args);
      };
   };

    function image_resize(image, option) {
      return image + '/m/' + option;
    }

    function init() {
      var imgPreload = $('.preload .lazyload');

      imgPreload.each(function(){
        if ($(this).data('lazypreload')) {
          $(this).addClass('lazypreload');
        }
      });
    }

    window.onload = init;

   jQuery(document).ready(function () {

      $(window).on('load scroll resize', function() {
        var $productPrice = $('.product-details').find('.product-pricing');
        var scrollTop = $(window).scrollTop();
        var $checkoutContainer = $(document).find('#checkout-container');
      });

      if (pageData.personalization) {
        var personalizationEnabled = true;
      }

      var carouselArgs = {
        // options
        cellAlign: "left",
        contain: true,
        pageDots: false,
        adaptiveHeight: false,
        imagesLoaded: true,
        friction: 0.15,
        selectedAttraction: 0.01,
        dragThreshold: .5,
        watchCSS: true
      };

      var carouselProductArgs = carouselArgs;

      carouselProductArgs['pageDots'] = true;
      carouselProductArgs['prevNextButtons'] = false;
      carouselProductArgs['wrapAround'] = true;
      carouselProductArgs['watchCSS'] = false;

      $('.carousel-product').flickity(carouselProductArgs);
      $('.carousel-product').on('dragStart.flickity', () => (document.ontouchmove = () => false));
      $('.carousel-product').on('dragEnd.flickity', () => (document.ontouchmove = () => true));

      $('.carousel-product-nav').flickity({ 
        asNavFor: ".carousel-product", 
        contain: true, 
        pageDots: false,
        prevNextButtons: false,
        cellAlign: 'left'
      });

      $('.product-image-gallery-large').show();

      $("body").on("click", ".end-slide-previous", function () {
        $carousel.flickity("previous");
      });

      var $accordion = $('.accordion');
      var selectedQty = $('.quantity').val();

      $accordion.on('click', function(e) {
        $this = $(this);
        $target =  $this.next();

        var $allPanels = $this.parent().find('.panel');

        if(!$this.hasClass('active')){
          $accordion.removeClass('active');
          $allPanels.removeClass('open').slideUp();
          $this.addClass('active');
          $target.addClass('open').slideDown();
        } else {
          $target.removeClass('open').slideUp().delay(500);
          $this.removeClass('active');
        }
        
        e.preventDefault();
      });

      $('.qty-button').on('click', function() {

        var $button = $(this);
        var $qtyInput = $button.parent().find('.quantity');
        var oldQtyValue = $qtyInput.val();
        var newQtyValue = 1;

        if ($button.text() == "+") {
          newQtyValue = parseInt(oldQtyValue) + 1;
        } else {
          if (oldQtyValue > 1) {
            newQtyValue = parseInt(oldQtyValue) - 1;
          } else {
            newQtyValue = 1;
          }
        }

        $qtyInput.val(newQtyValue);
        selectedQty = newQtyValue; 

        if (personalizationEnabled) {
          updatePersonalizeStorage();
        }
        
      });

      $('.quantity').on('propertychange change blur', function(e) {
        var $input = $(this);
        var valueChanged = false;

        if (e.type=='propertychange') {
            valueChanged = e.originalEvent.propertyName=='value';
        } else {
            valueChanged = true;
        }
        if (valueChanged) {
          $input.val($input.val().replace(/[^0-9]/g, ''));
          $input.val($input.val().replace(/^(?:0+(?=[1-9])|0+(?=0$))/g, ''));
          if ($input.val() === '') {
            $input.val('1');
          }
          selectedQty = $input.val();
          if (personalizationEnabled) {
            updatePersonalizeStorage();
          }
        }
      });

      var $loadMoreBtn = $('.load-more-button');
      var loadPerPage = parseInt($loadMoreBtn.attr('data-review-per-page'));
      var loadTotal = parseInt($loadMoreBtn.attr('data-review-total'));
      if ($loadMoreBtn.find('.load-more-remaining')) {
        $loadMoreBtn.find('.load-more-remaining').text(loadTotal - loadPerPage);
      };

      $('.load-more').slice(0, loadPerPage).show();
      $('.load-more-button').on('click', function(e){
        var $loadMoreHidden = $('.load-more:hidden');
        e.preventDefault();
        if ($loadMoreBtn.find('.load-more-remaining')) {
          var rem = ($loadMoreHidden.length - loadPerPage);
          $loadMoreBtn.find('.load-more-remaining').text(rem);
        }
        $loadMoreHidden.slice(0, loadPerPage).slideDown();
        if($loadMoreHidden.length == loadPerPage || rem < 0) {
          $loadMoreBtn.parent().parent().remove();    
        }
      });

      var hideSpinningButtonIcon = function () {
        $(this).find('.cta-button-text').css({opacity: 1.0});
        $(this).find('.cta-button-icon').css({opacity: 0.0});
      };

      var showSpinningButtonIcon = function (btn) {
        $(this).find('.cta-button-text').css({opacity: 0.0});
        $(this).find('.cta-button-icon').css({opacity: 1.0});
      };

      $('.cta-button').on('click', function () {
        showSpinningButtonIcon.call(this);
        setTimeout(hideSpinningButtonIcon.bind(this), 7000);
        tracker.trackAddToCart();
      });

      window.tracker = new Apex.tracker.Main(pageData.trackerConfig);
      tracker.trackViewContent();

      var checkoutConfig = pageData.checkoutConfig;

      var offers = pageData.offers;

      var updateOffers = function (offers, productData = {}) {
        const properties = productData.properties;
        const additionalPrice = productData.additionalPrice;
        offers.forEach(function (offer) {
          offer.selected = Boolean(offer.selected);
          offer.line_items.forEach(function (lineItem) {
            let price = parseFloat(lineItem.price);
            lineItem.quantity = parseInt(lineItem.quantity);
            if (!lineItem.img_url.includes('/m/')) {
              lineItem.img_url = image_resize(lineItem.img_url.filename, '110x110');
            }
            if (Object.entries(additionalPrice).length > 0) {
              for (const addPrice in additionalPrice) {
                if (additionalPrice[addPrice] !== '' && additionalPrice[addPrice] > 0 && properties[addPrice] !== '') {
                  let totalAddPrice = parseFloat(additionalPrice[addPrice]);
                  price += totalAddPrice;
                }
              }
              lineItem.price = price;
              lineItem.display_price = '$' + price.toFixed(2) + ' ' + pageData.checkoutConfig.currency;
            }
            if (Object.entries(properties).length > 0) {
              lineItem.properties = properties;
            }
          });
        });
        return offers;
      };

      if (pageData.offers && pageData.offers.length > 0) {
        checkoutConfig['offers'] = updateOffers(offers);
      }

      window.apex = new Apex.checkout.Main(checkoutConfig);

      var addPersonalizeData = function ($input, isLastInput = false) {
        const $inputValue = $input.val();
        const additionalPrice = $input.attr('data-additional-price') || 0;
        const $propertyName = $input.attr('name');
        const $allowMultipleAttr = $input.attr('allowmultiple');
        const allowMultiple = (typeof $allowMultipleAttr !== 'undefined' && $allowMultipleAttr !== false) ? true : false;
        let dataPrice = productData.additionalPrice;
        let dataProperties = productData.properties;
        let entries = $inputValue;
        let priceData = additionalPrice;
        if (additionalPrice && additionalPrice > 0) {
          if (productData.additionalPrice[$propertyName]) {
            priceData = dataPrice[$propertyName];
          }
        }
        if (dataProperties[$propertyName]) {
          if (selectedQty > 1 && allowMultiple) {
            entries = dataProperties[$propertyName] + ', ' + $inputValue;
            if (isLastInput) {
              let newEntries = entries.split(', ');
              newEntries.pop();
              if (newEntries.length > 1) { // only join if there are 2 or more elements 
                newEntries = newEntries.join(', ');
              }
              entries = newEntries + ', ' + $inputValue;
            }
          }
        }
        dataPrice[$propertyName] = priceData;
        dataProperties[$propertyName] = entries;
      };

      if (personalizationEnabled) {
        $('.personalization-field')
          .each( function(index, element) {
            addPersonalizeData($(element)); //adding the personalization field names in order of appearance
          })
          .on('blur', function() {
            const $input = $(this); 
            const $allowMultipleAttr = $input.attr('allowmultiple');
            const allowMultiple = (typeof $allowMultipleAttr !== 'undefined' && $allowMultipleAttr !== false) ? true : false;
            if (selectedQty == 1) { 
              $input.val() === '' ? updateInputStatus(0, $input) : updateInputStatus(1, $input);
              addPersonalizeData($input); //add data on blur if qty is 1
            }
          })
          .one('focus', function() {
            const $toolTip = $(this).parents('.field-group').find('.tooltip-text');
            if (selectedQty > 1) {
              $toolTip.removeAttr('hidden');
              setTimeout(function(){
                $toolTip.attr('hidden', true);
              }, 3000);
            }
          });
        
        $('.enter-text-tooltip').on('click', function() {
          const $toolTip = $(this).find('.tooltip-text');
          $toolTip.removeAttr('hidden');
          setTimeout(function(){
            $toolTip.attr('hidden', true);
          }, 3000);
        });
      }

      $('.input-text-field').on('keyup', function(event) { 
        const $input = $(this);
        const $personalizeStorage = $input.parent().siblings('.personalize-field-storage');
        const personalizeStorageCount = $personalizeStorage.children().length;
        let filledQty = parseInt($input.parents('.field-group').find('.filled-up').text());
        const properties = productData.properties;
        const propertyName = $input.attr('name');
        const $charLeft = $input.parents('.field-group').find('.char-left');
        const $maxIcon = $charLeft.parent().next();
        $input.parents('.input-group').removeClass('error');
        $charLeft.text($input.attr('maxlength') - $input.val().length);
        if (event.keyCode === 13 && (selectedQty > 1 && filledQty < selectedQty)) { // add input to storage after clicking/pushing enter
          if ($input.val() !== '') {
            event.preventDefault();
            $personalizeStorage.html('');
            $input.parents('.field-group').find('.duplicate-error').remove();
            addPersonalizeData($input); 
            filledQty += 1;
            updateInputStatus(filledQty, $input);
            const propArray = properties[propertyName].split(', '); 
            propArray.forEach((entry, index) => $personalizeStorage.append(addInputToStorage(entry, index)));
            $input.val('').focus();
            $charLeft.text($input.attr('maxlength'));
            if (selectedQty == propArray.length) {
              $input.attr('disabled', 'disabled');
              $input.parents('.input-group').addClass('disabled');
              $maxIcon.removeAttr('hidden');
              $charLeft.parent().hide();
            } else {
              $maxIcon.attr('hidden', true);
              $charLeft.parent().show();
            }
          } else {
            if ($input.attr('required') && !$input.attr('disabled')) {
              $input.parents('.input-group').addClass('error');
            }
          }
        }
      });

      $('.enter-personalize-data').on('click', function() {
        const $target = $(this);
        const $parentEl = $target.parents('.field-group');
        $parentEl.each(function (index, element) {
          const $inputFields = $(element).find('.personalization-field');
          let propArray = '';
          $inputFields.each(function (inputIndex, input) {
            const $input = $(input);
            const $personalizeStorage = $input.parents('.field-group').find('.personalize-field-storage');
            const propertyName = $input.attr('name');
            let filledQty = parseInt($input.parents('.field-group').find('.filled-up').text());
            if ($input.val() !== '') {
              addPersonalizeData($input);
              if (inputIndex === $inputFields.length - 1) { // update input status on last field on group
                filledQty += 1;
                updateInputStatus(filledQty, $input);
              }
              propArray = productData.properties[propertyName].split(', ');
              $personalizeStorage.html(''); 
              propArray.forEach((entry) => $personalizeStorage.append(addInputToStorage(entry, index)));
              if (selectedQty == propArray.length) {
                $input.attr('disabled', true);
                $input.parents('.input-group').addClass('disabled');
                $target.attr('disabled', true);
              }
            } else {
              if ($input.attr('required') && !$input.attr('disabled')) {
                $input.parent().addClass('error');
              }
            }
          });
        });
      });

      $('body').on('click', '.remove-personalized-input', function() {
        const $inputBtn = $(this);
        const $inputFields = $inputBtn.parents('.field-group').find('.personalization-field');
        const $inputValue = $inputBtn.find('.input-value').text();
        $inputFields.each(function(index, element) {
          const $mainInput = $(element);
          const $propertyName = $mainInput.attr('name');
          const $charLeftWrapper = $mainInput.parents('.field-group').find('.char-left-wrapper');
          const $maxIcon = $charLeftWrapper.next();
          const $enterButton = $mainInput.parent().find('.enter-personalize-data');
          let filledQty = parseInt($inputBtn.parents('.field-group').find('.filled-up').text());
          const $personalizeStorage = $mainInput.parent().siblings('.personalize-field-storage');
          const entries = productData.properties[$propertyName];
          let newEntries = entries
            .split(', ')
            .filter(entry => entry !== $inputValue)
            .join(', ');
          productData.properties[$propertyName] = newEntries;
          $personalizeStorage.html('');
          if (productData.properties[$propertyName] != '') {
            productData.properties[$propertyName]
              .split(', ')
              .forEach((entry, index) => $personalizeStorage.append(addInputToStorage(entry, index)));
          }
          $inputBtn.remove();
          filledQty -= 1;
          updateInputStatus(filledQty, $mainInput);
          if (filledQty == selectedQty) {
            $mainInput
              .attr('disabled', true)
              .parents('.input-group').addClass('disabled');
            $charLeftWrapper.hide();
            $maxIcon.removeAttr('hidden');
            $enterButton.attr('disabled', true);
          } else {
            $mainInput
              .removeAttr('disabled')
              .parent().removeClass('disabled');
            $charLeftWrapper.show();
            $maxIcon.attr('hidden', true);
            $enterButton.removeAttr('disabled'); 
          }
        });
      });

      var updatePersonalizeStorage = function () {
        $('.personalize-field-storage').each(function(index, element) {
          const $elParent = $(element).parents('.field-group');
          const $inputFields = $elParent.find('.personalization-field');
          // const $propertyName = $inputField.attr('name');
          const $charLeft = $elParent.find('.char-left-wrapper');
          const $maxIcon = $elParent.find('.max-icon');
          const $hiddenEl = $elParent.find('.hidden-element');
          const personalizeStorageCount = selectedQty > 1 ? $(element).children().length : 0;
          $inputFields.each(function (inputIndex, input) { // loop through each personalize field - makes it possible to have more fields on each field group
            const $inputField = $(input);
            const $propertyName = $inputField.attr('name');
            const $allowMultipleAttr = $inputField.attr('allowmultiple');
            const allowMultiple = (typeof $allowMultipleAttr !== 'undefined' && $allowMultipleAttr !== false) ? true : false;
            const properties = productData.properties[$propertyName];
            const $filledUp = $inputField.parents('.field-group').find('.filled-up');
            if (allowMultiple) {
              updateInputStatus(personalizeStorageCount, $inputField);
            } else {
              updateInputStatus(selectedQty, $inputField);
            }
            let filledQty = parseInt($filledUp.text());
            if (selectedQty > 1) {
              let propArray = properties.split(', ');
              if (propArray.length === 1 && allowMultiple) {
                productData.properties[$propertyName] = ''; // clear properties data when increasing qty from 1 and property has 1 data - to remove duplicates
              }
              $hiddenEl.removeAttr('hidden');
            } else {
              $hiddenEl.attr('hidden', true);
            }
            if (selectedQty < filledQty) {
              if (allowMultiple) removeLastFieldData($inputField);
              filledQty = selectedQty;
            }
            if (selectedQty > 1 && selectedQty == filledQty) {  
              if (allowMultiple) {
                $inputField
                  .attr('disabled', true)
                  .parents('.input-group').addClass('disabled');
                $charLeft.hide();
                $maxIcon.removeAttr('hidden');
                $inputField.prop('disabled', true);
              }
            } else {
              $inputField
                .removeAttr('disabled')
                .parents('.input-group').removeClass('disabled');
              $charLeft.show();
              $maxIcon.attr('hidden', true);
              $inputField.prop('disabled', false);
              if (selectedQty == 1) {  
                if ($inputField.val() !== '') {
                  updateInputStatus(1, $inputField);
                }
                $(element).html('');
              }
            }
          });
        });
      };
      
      var removeLastFieldData = function ($input) { // remove last data stored for quantity decrease
        const propertyName = $input.attr('name');
        const properties = productData.properties;
        const entries = properties[propertyName];
        const $personalizeStorage = $input.parent().siblings('.personalize-field-storage');
        const filledQty = parseInt($input.parents('.field-group').find('.filled-up').text());
        const $enterButton = $input.parents('.field-group').find('.enter-personalize-data');
        let newEntries = entries.split(', ');
        newEntries.pop();
        properties[propertyName] = newEntries.join(', ');
        $personalizeStorage.html('');
        $enterButton.removeAttr('disabled');
        if (selectedQty > 1) {
          newEntries.forEach((entry, index) => $personalizeStorage.append(addInputToStorage(entry, index)));
        } else {
          properties[propertyName] = '';
        }
        const personalizeStorageCount = $personalizeStorage.children().length;
        updateInputStatus(personalizeStorageCount, $input);
      } 

      var validatePersonalizeFields = function (productData) {
        let validated = {};
        $('.personalization-field').each(function(index, element) {
          const $field = $(element);
          const $fieldName = $field.attr('name');
          const filledQty = parseInt($field.parents('.field-group').find('.filled-up').text());
          const $allowMultipleAttr = $field.attr('allowmultiple');
          const allowMultiple = (typeof $allowMultipleAttr !== 'undefined' && $allowMultipleAttr !== false) ? true : false;
          validated[$fieldName] = true; // add true for all fields even if not required
          if (selectedQty == 1 || allowMultiple === false) {
            addPersonalizeData($field, true); // add data if qty is 1 - added when clicking buy now
          }
          if ($field.attr('required') && !$field.attr('disabled')) {
            if ($field.val() !== '') {
              $field.parents('.input-group').removeClass('error');
              validated[$fieldName] = true;
              if (filledQty < selectedQty) { // invalidate field if has input but filled quantity not reached the set quantity
                validated[$fieldName] = false; 
                $field.parents('.input-group').addClass('error');
              }
            } else {
              $field.parents('.input-group').addClass('error');
              validated[$fieldName] = false;
            }
          }
        });
        return Object.values(validated).every(Boolean); // return true if all true, else false
      }

      var updateInputStatus = function (filledQty, $input = null, grouped = false) {
        let $inputStatus = $('.input-status');
        if ($input) {
          $inputStatus = $input.parents('.field-group').find('.input-status');
        }
        const $allowMultipleAttr = $input.attr('allowmultiple');
        const allowMultiple = (typeof $allowMultipleAttr !== 'undefined' && $allowMultipleAttr !== false) ? true : false;
        if (selectedQty > 1 && allowMultiple) {
          $inputStatus.removeAttr('hidden');
        } else {
          $inputStatus.attr('hidden', true);
        }
        const $filledQty = $inputStatus.find('.filled-up');
        const $totalToFill = $inputStatus.find('.total-to-fillup');
        $totalToFill.text(selectedQty);
        if (filledQty >= 0 && filledQty <= selectedQty) {
          $filledQty.text(filledQty);
        }
      };

      var addPropertiesHTML = function (productData) {
        const $checkoutProductContent = $(document).find('#checkout .products .wrapper');
        const additionalPrice = productData.additionalPrice;
        const properties = productData.properties;
        let $propertyElement = '<div class="product-data" style="margin: 0 0 20px 80px;">';
        $propertyElement += '<div class="properties">';
        for (const property in properties) {
          const value = properties[property];
          if (value !== '') {
            $propertyElement += '<p><span class="property-name">' + property + ': </span><br>';
            $propertyElement += '<span class="property-value"><em>' + value + '</em></span></p>';
          }
        }
        $propertyElement += '</div></div>';
        $checkoutProductContent.append($propertyElement);
      } 

      var addInputToStorage = function (entry, index) {
        const currentIndex = parseInt(index + 1);
        let html = '<button class="btn remove-personalized-input" title="Remove">';
        html += '<span class="current-index">' + currentIndex + '</span>';
        html += '<span class="input-value ' + entry + '">' + entry + '</span>';
        html += '<svg width="18" height="20" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3.44971" y="4.77686" width="0.464631" height="10.2219" transform="rotate(-45 3.44971 4.77686)" fill="white"/><rect x="10.6777" y="4.44824" width="0.464631" height="10.2219" transform="rotate(45 10.6777 4.44824)" fill="white"/></svg>';
        html += '</button>';
        return html;
      };

      var updateShippingCost = function (offer) {
        var lineItem = offer.line_items[0];
        if (lineItem.quantity * parseFloat(lineItem.price) > pageData.freeShippingThreshold) {
        apex.setShippingMethods([
          {
              handle: 'free-shipping',
              name: 'Free First Class Shipping',
              price: '0',
              selected: true
          },
          {
              handle: 'expedited-shipping',
              name: 'Expedited Shipping',
              price: '9.95',
              selected: false
          },
        ]);
        }
        else {
        apex.setShippingMethods(pageData.checkoutConfig.shippingMethods);
        }
      };

      var createDynamicOffer = function (variant, qty) {
         return {
         name: 'dynamic-offer',
         line_items: [
            {
               title: variant.displayName,
               variant_id: variant.variant_id,
               quantity: qty,
               price: variant.price,
               display_price: variant.displayPrice,
               img_url: image_resize(variant.img_url.filename, '110x110')
            }],
         selected: true
         }
      };
      
      var variants = pageData.variants;
      const defaultSuccessRedirect = pageData.successRedirect;

      var getVariant = function (options) {
        var variantName = options.filter(Boolean).join('-');
        var selected = variants[0]; // default to the first one;
        variants.forEach(function (variant) {
          if (variant.name === variantName) {
            selected = variant
          }
        });
        return selected;
      };

      var selectedVariantOptions = pageData.defaultVariantOptions.split(',');
      var selectedVariant = getVariant(selectedVariantOptions);

      pageData.successRedirect = selectedVariant.success_redirect || defaultSuccessRedirect;

      var updatePricing = function (selectedVariant) {
        $('.product-pricing-original').html(selectedVariant.originalPrice);
        $('.product-pricing-sale').html(selectedVariant.displayPrice);
        $('.product-pricing-save').html(selectedVariant.savePercentage);
      };

      var onCarouselMainChange = function (event, index) {
        $('.carousel-nav .product-image-small').removeClass('active');
        $('.carousel-nav .product-image-small').eq(index).addClass('active');
      };

      $('.carousel-product').on('change.flickity', onCarouselMainChange);

      $('.product-variant').on('click', function () {
        var variantOptionIndex = $(this).parents('.product-variants').index('.product-variants') + 1;
        $(this).siblings('.product-variant').removeClass('active');
        $(this).addClass('active');
        var selectedVariantName = $(this).data('variant-name');
        selectedVariantOptions[variantOptionIndex] = selectedVariantName;
        selectedVariant = getVariant(selectedVariantOptions);
        updatePricing(selectedVariant);
        
        pageData.successRedirect = selectedVariant.success_redirect || defaultSuccessRedirect;

        $('.carousel-product').flickity('select', selectedVariant.picIndex);
        
      });

      $('.cta-button').on('click', debounce(function () {
        var offer;
        var validated = validatePersonalizeFields(productData);
        var startCheckout = true;
        if (!pageData.offers) {
          offer = createDynamicOffer(selectedVariant, selectedQty);
          updateShippingCost(offer);
          apex.setOffers([offer]);
          apex.selectOffer(offer.name);
        } else {
          apex.selectOffer(selectedVariant.offer_name);
        }
        if (personalizationEnabled && validated) {
          updateOffers([offer], productData);
          startCheckout = true;
        } else {
          startCheckout = false;
        }
        if (startCheckout) {
          apex.checkoutView.startCheckout();
        }
      }, 500, true));

      apex.on('startedCheckout', function (data) {
        tracker.trackInitiateCheckout(data);
        addPropertiesHTML(productData);
      });

      apex.on('addedShippingInfo', function (data) {
         tracker.trackAddShippingInfo();
      });

      apex.on('addedPaymentInfo', function (data) {
         tracker.trackAddPaymentInfo(data);
      });

      apex.on('initialOrderCompleted', function (res) {
         tracker.trackInitialPurchase(res.id, res.data.total_price, res.data.currency, null, null, res.data.line_items);
         tracker.setCookie('cartId', res.id);
         setTimeout(function () {
         window.location.replace(pageData.successRedirect + '?cartId=' + res.id);
         }, 0);
      });
    });

  </script>
</body>
</html>